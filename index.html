<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Bowl Sevens</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <header>
            <a href="#" id="help-link" class="help-link">Help</a>
            <h1>Blood Bowl Sevens</h1>
        </header>

        <div class="game-layout">
            <div class="team-panel team-panel-left">
                <div class="team team-1">
                    <h2>Team 1</h2>
                    <div class="score">Score: <span id="score-team1">0</span></div>
                    <div class="turn-info" id="turn-info-1">Half 1 - Turn 1</div>
                    <div class="turn-indicator" id="turn-indicator-1">Your Turn</div>
                    <div class="turn-timer" id="turn-timer-1" style="display: none;">2:00</div>
                </div>
                <div class="team-controls">
                    <div class="dice-result" id="dice-result-team1"></div>
                    <button id="end-turn-team1" class="btn btn-team1">End Turn</button>
                </div>
                <div class="player-box" id="player-box-team1" style="display: none;">
                    <h3>Unplaced Players</h3>
                    <div class="player-box-content" id="player-box-content-team1"></div>
                </div>
            </div>

            <div class="board-container">
                <div id="game-board" class="game-board"></div>
            </div>

            <div class="team-panel team-panel-right">
                <div class="team team-2">
                    <h2>Team 2</h2>
                    <div class="score">Score: <span id="score-team2">0</span></div>
                    <div class="turn-info" id="turn-info-2">Half 1 - Turn 1</div>
                    <div class="turn-indicator" id="turn-indicator-2"></div>
                    <div class="turn-timer" id="turn-timer-2" style="display: none;">2:00</div>
                </div>
                <div class="team-controls">
                    <div class="dice-result" id="dice-result-team2"></div>
                    <button id="end-turn-team2" class="btn btn-team2">End Turn</button>
                </div>
                <div class="player-box" id="player-box-team2" style="display: none;">
                    <h3>Unplaced Players</h3>
                    <div class="player-box-content" id="player-box-content-team2"></div>
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="controls-row">
                <div class="movement-buttons" id="movement-buttons" style="display: none;">
                    <button id="btn-confirm-move" class="movement-btn confirm-btn">Confirm Move</button>
                    <button id="btn-cancel-move" class="movement-btn cancel-btn">Cancel</button>
                </div>
                <div class="follow-up-buttons" id="follow-up-buttons" style="display: none;">
                    <button id="btn-follow-up" class="follow-up-btn">Follow Up</button>
                    <button id="btn-stay" class="follow-up-btn">Stay</button>
                </div>
                <div class="block-dice-buttons" id="block-dice-buttons" style="display: none;">
                    <span class="dice-label">Choose result:</span>
                    <button id="btn-die-1" class="dice-btn" style="display: none;"><span id="die-1-value"></span></button>
                    <button id="btn-die-2" class="dice-btn" style="display: none;"><span id="die-2-value"></span></button>
                    <button id="btn-die-3" class="dice-btn" style="display: none;"><span id="die-3-value"></span></button>
                </div>
                <div class="block-cancel-button" id="block-cancel-button" style="display: none;">
                    <button id="btn-cancel-block" class="movement-btn cancel-btn">Cancel Block</button>
                </div>
                <div class="action-buttons">
                    <button id="btn-move" class="action-btn" disabled>Move</button>
                    <button id="btn-block" class="action-btn" disabled>Block</button>
                    <button id="btn-blitz" class="action-btn" disabled>Blitz</button>
                    <button id="btn-pass" class="action-btn" disabled>Pass</button>
                </div>
            </div>
            <div class="status" id="status">Select a player to begin</div>
        </div>
    </div>

    <!-- Touchdown Celebration Overlay -->
    <div id="touchdown-overlay" class="touchdown-overlay">
        <div class="touchdown-content">
            <div class="touchdown-text">TOUCHDOWN!</div>
            <div class="touchdown-team" id="touchdown-team-name"></div>
            <div class="touchdown-emoji">üèàüéâüéä</div>
            <div class="touchdown-subtitle">Great Play!</div>
        </div>
    </div>

    <!-- Kick Off Overlay -->
    <div id="kickoff-overlay" class="touchdown-overlay">
        <div class="touchdown-content">
            <div class="touchdown-text">KICK OFF!</div>
            <div class="touchdown-emoji">üèà</div>
        </div>
    </div>

    <!-- Coin Toss Overlay -->
    <div id="coin-toss-overlay" class="touchdown-overlay">
        <div class="touchdown-content">
            <div class="touchdown-text">COIN TOSS</div>
            <div class="touchdown-emoji" id="coin-toss-result">ü™ô</div>
            <div class="touchdown-subtitle" id="coin-toss-winner"></div>
        </div>
    </div>

    <!-- Half Time Overlay -->
    <div id="halftime-overlay" class="touchdown-overlay">
        <div class="touchdown-content">
            <div class="touchdown-text">HALF TIME</div>
            <div class="touchdown-emoji">‚è∏Ô∏è</div>
            <div class="touchdown-subtitle">Teams switch sides</div>
        </div>
    </div>

    <!-- Game Over Overlay -->
    <div id="game-over-overlay" class="touchdown-overlay">
        <div class="touchdown-content">
            <div class="touchdown-text">GAME OVER</div>
            <div class="touchdown-subtitle" id="game-over-winner"></div>
            <div class="touchdown-team" id="game-over-score"></div>
        </div>
    </div>

    <!-- Turnover Overlay -->
    <div id="turnover-overlay" class="touchdown-overlay">
        <div class="touchdown-content">
            <div class="touchdown-text">TURNOVER</div>
            <div class="touchdown-emoji">üîÑ</div>
            <div class="touchdown-subtitle" id="turnover-reason"></div>
        </div>
    </div>

    <!-- Help Overlay -->
    <div id="help-overlay" class="help-overlay">
        <div class="help-content">
            <div class="help-header">
                <h2>Blood Bowl Sevens - Rules</h2>
                <button id="help-close" class="help-close">√ó</button>
            </div>
            <div class="help-body">
                <div class="help-section">
                    <h3>Objective</h3>
                    <p>Score a touchdown by moving a player with the ball into the opponent's endzone.</p>
                </div>
                <div class="help-section">
                    <h3>Game Structure</h3>
                    <p><strong>Coin Toss:</strong> Determines which team attacks first.</p>
                    <p><strong>Player Placement:</strong> Before kickoff, each team places 7 players in their half (defending team places first, then attacking team).</p>
                    <p><strong>Kick Off:</strong> Ball is placed and scattered at the start of each half.</p>
                    <p><strong>Turns:</strong> Each half has 8 turns per team (16 total turns per half). Players have 2 minutes to take their turn. Click "End Turn" when you have completed all player actions for your turn.</p>
                    <p><strong>Turnovers:</strong> If an action fails (e.g., failed pass, failed catch, failed "Go For It", player knocked down), there is a turnover and your turn ends immediately.</p>
                </div>
                <div class="help-section">
                    <h3>Player Actions</h3>
                    <p>Each player can perform <strong>1 action per turn</strong>:</p>
                    <ul>
                        <li><strong>Move:</strong> Move up to your movement allowance. You can "Go For It" to move up to 2 additional squares - roll D6 for each extra square (1 = fall over, turnover).</li>
                        <li><strong>Block:</strong> Block an adjacent opponent</li>
                        <li><strong>Blitz:</strong> Move then block (once per turn)</li>
                        <li><strong>Pass:</strong> Pass the ball to a teammate (once per turn)</li>
                    </ul>
                </div>
                <div class="help-section">
                    <h3>Tackle Zones</h3>
                    <p>When moving, each opposing player in adjacent squares creates a tackle zone. Tackle zones make it harder to pick up the ball (add +1 to target number per tackle zone).</p>
                </div>
                <div class="help-section">
                    <h3>Block Modifiers</h3>
                    <p>Block dice are modified by assists. Players can assist if they are adjacent to the target and not engaged with other opponents. Each assist adds +1 to block dice.</p>
                </div>
                <div class="help-section">
                    <h3>Pass Modifiers</h3>
                    <p>Pass distance affects catch difficulty: 0-3 squares (no modifier), 4-6 squares (-1), 7-9 squares (-2), 10+ squares (-3). Maximum pass distance is 13 squares.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>

